<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2.1 Modelo de procesos</title>
    <link rel="icon" type="image/png" href="logoescom.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --accent: #e74c3c;
            --light: #ecf0f1;
            --dark: #2c3e50;
            --gray: #95a5a6;
            --success: #2ecc71;
            --warning: #f39c12;
            --card-bg: rgba(255, 255, 255, 0.05);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a3a, #2c3e50);
            color: var(--light);
            min-height: 100vh;
            line-height: 1.7;
        }

        .floating-home-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--secondary);
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            box-shadow: 0 4px 20px rgba(52, 152, 219, 0.3);
            transition: all 0.3s ease;
            z-index: 1000;
            font-size: 1.5rem;
        }

        .floating-home-btn:hover {
            background: #2980b9;
            transform: translateY(-3px);
            box-shadow: 0 6px 25px rgba(52, 152, 219, 0.4);
        }

        .sidebar-nav {
            position: fixed;
            left: 0;
            top: 0;
            width: 280px;
            height: 100vh;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            border-right: 1px solid rgba(255, 255, 255, 0.1);
            z-index: 999;
            transition: transform 0.3s ease;
            transform: translateX(-100%);
            overflow-y: auto;
        }

        .sidebar-nav.active {
            transform: translateX(0);
        }

        .sidebar-header {
            padding: 20px;
            background: rgba(52, 152, 219, 0.1);
            border-bottom: 1px solid rgba(52, 152, 219, 0.3);
        }

        .sidebar-title {
            font-size: 1.2rem;
            color: var(--secondary);
            font-weight: 600;
            margin-bottom: 5px;
        }

        .sidebar-subtitle {
            font-size: 0.9rem;
            color: var(--gray);
        }

        .nav-sections {
            padding: 20px 0;
        }

        .nav-section {
            margin-bottom: 15px;
        }

        .nav-section-title {
            padding: 10px 20px;
            font-size: 1rem;
            font-weight: 600;
            color: var(--secondary);
            border-bottom: 1px solid rgba(52, 152, 219, 0.2);
            margin-bottom: 10px;
        }

        .nav-item {
            display: block;
            padding: 12px 20px;
            color: var(--light);
            text-decoration: none;
            transition: all 0.3s ease;
            border-left: 3px solid transparent;
        }

        .nav-item:hover {
            background: rgba(52, 152, 219, 0.1);
            border-left-color: var(--secondary);
            padding-left: 25px;
        }

        .nav-item.active {
            background: rgba(52, 152, 219, 0.2);
            border-left-color: var(--secondary);
            color: var(--secondary);
        }

        .nav-item i {
            margin-right: 10px;
            width: 20px;
            text-align: center;
        }

        .menu-toggle {
            position: fixed;
            top: 20px;
            left: 20px;
            background: var(--primary);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            z-index: 1001;
            font-size: 1.2rem;
        }

        .menu-toggle:hover {
            background: var(--secondary);
            transform: translateY(-2px);
        }

        .menu-toggle.active {
            background: var(--accent);
        }

        .reading-progress {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            z-index: 998;
        }

        .reading-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--secondary), var(--success));
            width: 0%;
            transition: width 0.1s ease;
        }

        .sidebar-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 998;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .sidebar-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            transition: margin-left 0.3s ease, margin-right 0.3s ease;
        }
        
        header {
            text-align: center;
            padding: 40px 20px;
            margin-bottom: 30px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            position: relative;
            overflow: hidden;
        }
        
        .breadcrumb {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
            color: var(--gray);
            font-size: 1.1rem;
        }
        
        .breadcrumb a {
            color: var(--secondary);
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .breadcrumb a:hover {
            color: white;
            text-decoration: underline;
        }
        
        .breadcrumb span {
            margin: 0 10px;
        }
        
        h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            color: white;
        }
        
        .subtitle {
            font-size: 1.8rem;
            color: var(--secondary);
            margin-bottom: 20px;
            font-weight: 300;
            text-align: center;
        }
        
        .intro {
            max-width: 900px;
            margin: 0 auto 40px;
            padding: 25px;
            background: var(--card-bg);
            border-radius: 15px;
            border-left: 4px solid var(--secondary);
            text-align: justify;
        }
        
        .section {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 40px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            scroll-margin-top: 100px;
        }
        
        .section-header {
            display: flex;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--secondary);
        }
        
        .section-number {
            font-size: 2.2rem;
            font-weight: bold;
            color: var(--secondary);
            margin-right: 15px;
            min-width: 120px;
        }
        
        .section-title {
            font-size: 1.8rem;
            font-weight: 600;
            color: white;
        }
        
        .content {
            padding: 0 10px;
        }
        
        .content h3 {
            font-size: 1.5rem;
            color: var(--secondary);
            margin: 30px 0 15px;
            padding-left: 10px;
            border-left: 3px solid var(--accent);
        }

        .content h4 {
            font-size: 1.3rem;
            color: var(--warning);
            margin: 25px 0 12px;
            padding-left: 8px;
        }
        
        .content p {
            margin-bottom: 15px;
            text-align: justify;
        }
        
        .content ul, .content ol {
            padding-left: 30px;
            margin: 20px 0;
        }
        
        .content li {
            margin-bottom: 12px;
        }
        
        .highlight {
            background: rgba(231, 76, 60, 0.15);
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: 500;
        }
        
        .citation {
            font-style: italic;
            color: var(--gray);
            margin: 5px 0 15px 20px;
            border-left: 2px solid var(--secondary);
            padding-left: 10px;
        }
        
        .quote-box {
            background: rgba(52, 152, 219, 0.1);
            border-left: 4px solid var(--secondary);
            padding: 20px;
            margin: 25px 0;
            border-radius: 8px;
            font-style: italic;
            color: var(--light);
        }

        .quote-box .citation {
            border-left: none;
            margin: 10px 0 0 0;
            padding-left: 0;
        }
        
        .table-container {
            max-width: 800px;
            margin: 30px auto;
            overflow-x: auto;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            background: rgba(0, 0, 0, 0.2);
        }
        
        th {
            background: var(--primary);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }
        
        td {
            padding: 12px 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        tr:nth-child(even) {
            background: rgba(255, 255, 255, 0.03);
        }
        
        .table-caption {
            text-align: center;
            padding: 10px;
            font-style: italic;
            color: var(--gray);
            background: rgba(0, 0, 0, 0.3);
            border-bottom-left-radius: 10px;
            border-bottom-right-radius: 10px;
        }
        
        .figure-container {
            text-align: center;
            margin: 30px 0;
            padding: 20px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
        }
        
        .figure-placeholder {
            width: 100%;
            height: 300px;
            background: linear-gradient(135deg, #2c3e50, #34495e);
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            margin: 15px 0;
            color: var(--gray);
            font-style: italic;
            flex-direction: column;
        }
        
        .figure-placeholder i {
            font-size: 3rem;
            margin-bottom: 15px;
            color: var(--secondary);
        }
        
        .figure-caption {
            font-style: italic;
            color: var(--gray);
            margin-top: 10px;
        }

        .imagen-figura1 {
            max-width: 600px;
            width: 100%;
            height: auto;
        }
        
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
        }
        
        .nav-btn {
            display: inline-flex;
            align-items: center;
            background: var(--secondary);
            color: white;
            padding: 12px 25px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .nav-btn:hover {
            background: #2980b9;
            transform: translateY(-3px);
        }
        
        .nav-btn i {
            margin: 0 8px;
        }
        
        footer {
            text-align: center;
            margin-top: 60px;
            padding: 30px;
            color: var(--gray);
            font-size: 0.9rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .scroll-to-top {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--accent);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3);
            transition: all 0.3s ease;
            opacity: 0;
            visibility: hidden;
            z-index: 999;
        }

        .scroll-to-top.visible {
            opacity: 1;
            visibility: visible;
        }

        .scroll-to-top:hover {
            background: #c0392b;
            transform: translateY(-3px);
        }
        
        .activity-card {
            background: rgba(46, 204, 113, 0.1);
            border-radius: 15px;
            padding: 30px;
            margin: 40px 0;
            border-left: 4px solid var(--success);
            text-align: center;
        }

        .activity-title {
            font-size: 1.8rem;
            color: var(--success);
            margin-bottom: 20px;
        }

        .activity-btn {
            display: inline-block;
            background: var(--success);
            color: white;
            padding: 15px 35px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: 600;
            margin-top: 15px;
            transition: all 0.3s ease;
            font-size: 1.1rem;
        }

        .activity-btn:hover {
            background: #27ae60;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(46, 204, 113, 0.4);
        }

        @media (max-width: 768px) {
            .sidebar-nav {
                width: 100%;
            }

            h1 {
                font-size: 2rem;
            }
            
            .subtitle {
                font-size: 1.4rem;
            }
            
            .section-title {
                font-size: 1.5rem;
            }
            
            .section-number {
                min-width: 100px;
                font-size: 1.8rem;
            }
            
            .nav-buttons {
                flex-direction: column;
                gap: 15px;
            }
            
            .nav-btn {
                width: 100%;
                text-align: center;
                justify-content: center;
            }

            .floating-home-btn {
                width: 50px;
                height: 50px;
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <div class="reading-progress">
        <div class="reading-progress-bar" id="progressBar"></div>
    </div>

    <button class="menu-toggle" id="menuToggle">
        <i class="fas fa-bars"></i>
    </button>

    <a href="index.html" class="floating-home-btn" title="Ir al índice de unidades">
        <i class="fas fa-home"></i>
    </a>

    <div class="sidebar-overlay" id="sidebarOverlay"></div>

    <nav class="sidebar-nav" id="sidebarNav">
        <div class="sidebar-header">
            <div class="sidebar-title">2.1 Modelo de procesos</div>
            <div class="sidebar-subtitle">Administración de procesos</div>
        </div>
        
        <div class="nav-sections">
            <div class="nav-section">
                <div class="nav-section-title">Navegación</div>
                <a href="#inicio" class="nav-item">
                    <i class="fas fa-rocket"></i> Inicio del Tema
                </a>
                <a href="index.html" class="nav-item">
                    <i class="fas fa-arrow-left"></i> Menú de Unidad 2
                </a>
            </div>

            <div class="nav-section">
                <div class="nav-section-title">Contenido</div>
                <a href="#seccion-2-1-1" class="nav-item" data-section="2-1-1">
                    <i class="fas fa-sitemap"></i> 2.1.1 Fundamentos
                </a>
                <a href="#seccion-2-1-2" class="nav-item" data-section="2-1-2">
                    <i class="fas fa-cogs"></i> 2.1.2 Operaciones
                </a>
                <a href="#seccion-2-1-3" class="nav-item" data-section="2-1-3">
                    <i class="fas fa-exchange-alt"></i> 2.1.3 Estados
                </a>
                <a href="#seccion-2-1-4" class="nav-item" data-section="2-1-4">
                    <i class="fas fa-code"></i> 2.1.4 Implementación
                </a>
            </div>

            <div class="nav-section">
                <div class="nav-section-title">Recursos</div>
                <a href="actividad_2.1.html" class="nav-item">
                    <i class="fas fa-tasks"></i> Actividad de aprendizaje
                </a>
                <a href="2.2.html" class="nav-item">
                    <i class="fas fa-arrow-right"></i> Siguiente: Modelo multi-hilo
                </a>
            </div>
        </div>
    </nav>

    <button class="scroll-to-top" id="scrollToTop">
        <i class="fas fa-chevron-up"></i>
    </button>

    <div class="container">
        <header id="inicio">
            <div class="breadcrumb">
                <a href="index.html"><i class="fas fa-home"></i> Inicio</a>
                <span>/</span>
                <a href="index.html">Unidad 2</a>
                <span>/</span>
                <span>2.1 Modelo de procesos</span>
            </div>
            <h1>2.1 Modelo de procesos</h1>
            <div class="subtitle">Administración de procesos</div>            
        </header>
        
        <div class="intro">
            <p>Un modelo de procesos en sistemas operativos describe la manera en que los procesos (programas en ejecución) son organizados, gestionados y ejecutados por el sistema. Esta organización es fundamental para asegurar la eficiencia, la concurrencia y la estabilidad del sistema durante la ejecución del software</p>
            <div class="citation">(Silberschatz, Galvin & Gagne, 2018).</div>
        </div>
        <div class="section" id="seccion-2-1">
            <div class="content">
                <p>El modelo de procesos explica cómo el sistema operativo organiza, lleva a cabo y administra los programas en operación. Cada proceso es una unidad que se ejecuta de manera independiente e incluye un contador del programa, un estado de ejecución, un espacio para las direcciones de la memoria y un grupo de recursos que el sistema asigna. Este modelo posibilita que varios programas se ejecuten de manera simultánea sin afectar a los demás, sentando así las bases para la multitarea y la concurrencia</p>                
                <p>En su estructura, un proceso está compuesto por:</p>
                <ul>
                    <li><strong>Código del programa (texto)</strong>: instrucciones a ejecutar.</li>
                    <li><strong>Datos</strong>: variables globales y estructuras utilizadas por el programa.</li>
                    <li><strong>Pila (stack)</strong>: donde se almacenan las llamadas a funciones y variables locales.</li>
                    <li><strong>Heap</strong>: área dinámica donde se crean objetos o estructuras de datos durante la ejecución.</li>
                    <li>Naranja</li>
                </ul>        
                <p>El sistema operativo mantiene información sobre cada proceso a través de una estructura denominada <strong>Bloque de Control de Proceso (PCB, Process Control Block)</strong>, que registra el estado del proceso, sus registros, identificador (PID), prioridad, y recursos asociados.</p>
                <p>Según <strong>Tanenbaum y Bos (2015)</strong>, “<i>el modelo de procesos es la abstracción central de los sistemas operativos modernos; cada proceso actúa como si tuviera su propio procesador virtual, aunque en realidad comparte la CPU con otros procesos</i>” (p. 95). Esta abstracción simplifica la programación y permite al sistema operativo aplicar políticas de <strong>planificación</strong>, <strong>suspensión</strong>, <stronng>reanudación</strong> y <strong>finalización</strong> que optimizan el uso de los recursos.</p>
                <p>En síntesis, el modelo de procesos proporciona el marco conceptual que hace posible la <strong>ejecución concurrente</strong>, <strong>la seguridad del sistema</strong> y <strong>la eficiencia en el manejo de recursos</strong>, sirviendo como núcleo del diseño operativo moderno.                    
                <p></p>
            </div>
                
        </div>
        
        <div class="section" id="seccion-2-1-1">
            <div class="section-header">
                <div class="section-number">2.1.1</div>
                <div class="section-title">Fundamentos: jerarquía, BCP</div>
            </div>
            <div class="content">
                <p>La gestión de procesos se basa en principios de organización que posibilitan la supervisión eficaz de la ejecución de diversos programas por parte del sistema operativo. La jerarquía de procesos y el bloque de control del proceso (BCP) son algunos de los principios que se destacan, ya que son fundamentales para la supervisión y coordinación del ciclo vital de cada proceso en el sistema.</p>
                <h3>Orden jerárquico de procesos</h3>
                <p>Los sistemas operativos actuales organizan los procesos en una jerarquía, en la que cada proceso tiene la capacidad de generar uno o más subprocesos o procesos hijos. Cuando un proceso padre emplea una llamada al sistema, como fork () en Unix/Linux, para crear un nuevo proceso, se establece esta relación de dependencia.
El proceso hijo, aunque retiene su propia ejecución de manera independiente, recibe parte del ambiente del padre (por ejemplo, directorios, permisos o variables). Esta jerarquía posibilita que el trabajo esté organizado de manera ordenada, lo cual simplifica la gestión, la sincronización y la finalización controlada de los procesos.

                </p>
                <h3>Bloque de Control de Proceso (BCP)</h3>
                <p>El BCP se utiliza como una organización de datos interna por el sistema y esto incluye lo siguiente:</p>
                <ul>
                    <li><strong>Identificación del proceso</strong>: PID, PPID (padre), UID (usuario).</li>
                    <li><strong>Estado del proceso</strong>: nuevo, listo, en ejecución, bloqueado o terminado.</li>
                    <li><strong>Registros de CPU</strong>: valores almacenados cuando el proceso es interrumpido.</li>
                    <li><strong>Información de memoria</strong>: punteros a tablas de páginas y espacio asignado.</li>
                    <li><strong>Contabilidad</strong>: tiempo de CPU utilizado, prioridad y estadísticas.</li>
                    <li><strong>Información de control</strong>: recursos abiertos (archivos, dispositivos, sockets).</li>
                </ul>
                <p>El BCP permite al sistema <strong>interrumpir y reanudar procesos</strong> sin pérdida de información, garantizando una conmutación de contexto (<i>context switch</i>) correcta y eficiente.</p>
                
                <h4>Funcionalidad del BCP</h4>
                <p>El BCP es el corazón de la gestión de procesos. Su funcionalidad principal es permitir al sistema operativo:</p>
                <ul>
                    <li>Supervisar y controlar el estado actual del proceso, determinando si está activo, en cola de espera, suspendido o listo para ser ejecutado</li>
                    <li>Se refiere a guardar todos los datos esenciales del proceso en curso, como los valores de los registros y la posición actual en el programa, para poder reanudarlo sin pérdida de información</li>
                    <li><strong>Administrar recursos:</strong> Mantener un registro de los recursos (memoria, archivos abiertos, dispositivos I/O) asignados al proceso.</li>
                    <li><strong>Controlar la identificación del proceso:</strong> Otorgar un identificador exclusivo a cada proceso.</li>
                </ul>

                <h4>Características del BCP</h4>
                <p>El BCP tiene principalmente la siguiente información:</p>
                <ul>
                    <li><strong>Estado del proceso:</strong> Indica la etapa actual del proceso, como, por ejemplo: recién creado, preparado para ejecutarse, ejecutándose, en espera o finalizado.</li>
                    <li><strong>Contador de programa:</strong> Indica la dirección de la siguiente instrucción que debe ser ejecutada por el procesador.</li>
                    <li><strong>Registros de CPU:</strong> Comprende los registros esenciales del procesador, tales como acumuladores, registros de propósito general, índices y punteros de pila.</li>
                    <li><strong>Información para la planificación del CPU:</strong> Incluye elementos como la prioridad del proceso y referencias a las estructuras utilizadas en las colas de planificación.</li>
                    <li><strong>Datos de administración de memoria:</strong> Contiene datos como los valores de los registros base y límite, así como las tablas que administran la paginación o segmentación de la memoria.</li>
                    <li><strong>Información de contabilidad:</strong> Registra estadísticas del uso del proceso, incluyendo tiempo de CPU consumido, restricciones temporales y su identificador numérico.</li>
                    <li><strong>Información de estado de I/O:</strong> Lista de dispositivos I/O asignados al proceso, lista de archivos abiertos.</li>
                </ul>
            </div>
        </div>
        <div class="section" id="seccion-2-1-2">
            <div class="section-header">
                <div class="section-number">2.1.2</div>
                <div class="section-title">Operaciones: creación, ejecución y terminación</div>
            </div>
            <div class="content">
            <p>Las operaciones de procesos son las acciones que lleva a cabo el sistema operativo para manejar el ciclo de vida de un proceso desde su creación hasta que termina. Estas operaciones aseguran que los recursos se distribuyan, empleen y liberen de forma organizada, lo cual mantiene la estabilidad y eficiencia del sistema.</p>             
                <h3>Desarrollo de procesos</h3>
                <p>Cuando un programa necesita llevar a cabo una nueva tarea, se produce la creación de un proceso. A través de una llamada al sistema en Windows o fork () en Unix/Linux), el proceso padre crea un proceso hijo. El sistema operativo, en este periodo, otorga un identificador único (PID), aparta memoria y activa el Bloque de Control de Proceso (BCP), además de fijar la relación jerárquica entre los dos procesos.</p>
                <p>De acuerdo con <strong>Silberschatz, Galvin y Gagne (2022)</strong>, "<i>cada proceso se genera al duplicar total o parcialmente el contexto de un proceso ya existente, garantizando la coherencia en la herencia de privilegios y recursos</i>" (p. 194).</p>
                <h3>Ejecución de Procesos</h3>
                <p>Una vez creado, el proceso entra en la <strong>cola de listos</strong> y el planificador del sistema operativo (scheduler) selecciona cuál se ejecutará en la CPU. Durante su ejecución, el proceso puede cambiar de estado (listo, bloqueado o en ejecución) según las interrupciones, las llamadas al sistema o la disponibilidad de recursos. El <strong>cambio de contexto (context switch)</strong> permite suspender un proceso y reanudar otro sin pérdida de información, manteniendo la multitarea activa y ordenada.
De acuerdo con <strong>Tanenbaum y Bos (2015)</strong>, “<i>el sistema operativo proporciona la ilusión de ejecución simultánea al alternar los procesos en la CPU, salvando y restaurando su estado de forma transparente</i>” (p. 103).</p>
            <h3>Terminación de Procesos</h3>
                <p>La finalización de un proceso ocurre cuando este completa su tarea o es interrumpido por el usuario o el sistema. Al finalizar, el sistema libera los recursos asignados (memoria, archivos y descriptores) y actualiza el BCP para registrar el estado de salida. Los procesos hijos también pueden ser terminados automáticamente al concluir el proceso padre, dependiendo del modelo de jerarquía.</p>
                <p>Como señala <strong>Stallings (2018)</strong>, “<i>la terminación controlada de procesos es esencial para mantener la consistencia del sistema, evitando la pérdida de recursos y estados indeterminados</i>” (p. 208).</p>
                <p>En conjunto, estas operaciones forman el ciclo de vida del proceso, asegurando una administración eficiente del tiempo de CPU, la memoria y los dispositivos, pilares fundamentales de la arquitectura de un sistema operativo moderno.</p>
                
                <ul>
                    <li><strong>Multitarea:</strong> Permite al sistema operativo cambiar eficientemente entre procesos (cambio de contexto) y dar la ilusión de ejecución simultánea.</li>
                    <li><strong>Gestión eficiente:</strong> Facilita la asignación y revocación de recursos.</li>
                    <li><strong>Robustez:</strong> Permite la recuperación de procesos en caso de interrupciones o fallas.</li>
                    <li><strong>Control detallado:</strong> Ofrece un control granular sobre cada proceso.</li>
                </ul>

                <h4>Desventajas del BCP</h4>
                <ul>
                    <li><strong>Overhead de memoria:</strong> Cada BCP consume una cantidad de memoria, lo que puede ser significativo si hay muchos procesos.</li>
                    <li><strong>Sobrecarga en el cambio de contexto:</strong> Durante la conmutación entre procesos, el sistema debe guardar y restaurar la información del Bloque de Control de Procesos (BCP), lo cual implica un consumo adicional del tiempo del procesador.</li>
                    <li><strong>Dificultad en su implementación:</strong> La creación y puesta en marcha del BCP, así como de los algoritmos que lo utilizan, puede resultar complicada.</li>
                </ul>

                <h4>Ejemplificación:</h4>
                <p>Cada vez que abres un programa o incluso cuando el sistema operativo inicia un proceso en segundo plano, se crea un <strong>BCP</strong> para ese proceso.</p>

                <p><strong>Imagina que abres Chrome, Spotify y Word al mismo tiempo.</strong> El sistema operativo crea un <strong>BCP individual para cada uno de ellos</strong>.</p>

                <h4>Estado del Proceso:</h4>
                <ul>
                    <li>Cuando abres Chrome, su BCP se marca como "Nuevo".</li>
                    <li>Posteriormente, el planificador del sistema operativo lo coloca en el estado de <strong>"Listo"</strong> para su futura ejecución.</li>
                    <li>Al asignársele tiempo de CPU, el BCP se actualiza al estado <strong>"En realización"</strong>.</li>
                    <li>Si decides cambiar a usar Spotify, el proceso de Chrome podría cambiar a <strong>"Listo"</strong> o <strong>"Esperando"</strong>, dependiendo de si está a la espera de recursos como datos de red, por ejemplo.</li>
                </ul>

                <h4>Contador de Programa y Registros de CPU:</h4>
                <ul>
                    <li><strong>Ejecución activa de un proceso:</strong> Cuando una aplicación como Chrome está en estado de ejecución, su Bloque de Control de Procesos (BCP) contiene tanto la dirección de la próxima instrucción que la CPU debe procesar como el estado actual de los registros internos, que almacenan datos temporales esenciales para su funcionamiento.</li>
                    <li><strong>Cambio de contexto entre procesos:</strong> Al momento de cambiar la ejecución hacia otra aplicación como Spotify, el sistema operativo guarda en el BCP de Chrome la información del contador de programa y los registros del procesador. Posteriormente, recupera estos datos desde el BCP de Spotify, lo que permite reanudar su ejecución exactamente donde se había detenido. Este mecanismo es conocido como cambio de contexto.</li>
                </ul>

                <h4>Información de Gestión de Memoria:</h4>
                <p>El BCP de Chrome sabrá qué partes de la RAM están asignadas a sus pestañas, sus datos y su código. Si abres muchas pestañas, el BCP de Chrome se actualizará para reflejar el aumento en el uso de memoria.</p>

                <h4>Información de I/O:</h4>
                <ul>
                    <li>Si Chrome está realizando una descarga, su BCP incluirá datos sobre el archivo en proceso y la sección del disco duro que está utilizando. En el caso de Spotify, si está reproduciendo música, su BCP reflejará qué dispositivo de audio está empleando.</li>
                    <li><strong>ID del Proceso y Prioridad:</strong> Cada BCP tiene un número de identificación único (PID). Puedes verlo en el "Administrador de Tareas" en el sistema operativo de Windows (pestaña "Detalles") o con el comando ps aux en Linux.</li>
                    <li>El BCP también almacena la prioridad del proceso. Por ejemplo, un proceso del sistema operativo puede tener una prioridad más alta que un juego para asegurar que el sistema siga funcionando sin dificultades.</li>
                </ul>

                <div class="quote-box">
                    "En términos simples, el Bloque de Control de Procesos, actúa como una pieza de identificación y un historial operativo del proceso, facilitando que el sistema operativo distribuya de forma equitativa y eficiente tanto los recursos como el uso del procesador entre los distintos procesos en ejecución"
                    <div class="citation">(Silberschatz, Galvin, & Gagne, 2018).</div>
                </div>
            </div>
        </div>
        
        <div class="section" id="seccion-2-1-2">
            <div class="section-header">
                <div class="section-number">2.1.2</div>
                <div class="section-title">Operaciones</div>
            </div>
            <div class="content">
                <h3>Operaciones de un Sistema Operativo</h3>
                <p>Las operaciones realizadas por un sistema operativo comprenden los mecanismos y procedimientos necesarios para asegurar su funcionamiento adecuado. Estas acciones permiten administrar, organizar y mejorar el uso eficiente de los recursos del sistema. Asimismo, aseguran que los procesos se ejecuten correctamente y facilitan la interacción efectiva entre el usuario y el hardware. Entre las funciones esenciales del sistema operativo se incluyen la administración de procesos, memoria, dispositivos de entrada y salida, así como el manejo de los sistemas de archivos.</p>

                <div class="quote-box">
                    "Las operaciones del sistema operativo son fundamentales para garantizar el funcionamiento correcto, eficiente y seguro de todos los componentes del sistema"
                    <div class="citation">(Silberschatz, Galvin & Gagne, 2018).</div>
                </div>

                <h4>Operaciones principales del Sistema Operativo:</h4>

                <h4>1. Gestión de Procesos (Process Management)</h4>
                <ul>
                    <li><strong>Qué hace:</strong> Crea, planifica, sincroniza y termina procesos.</li>
                    <li><strong>Relación con modelos:</strong>
                        <ul>
                            <li>En <strong>microkernel</strong> y <strong>cliente-servidor</strong>, el sistema divide los procesos y los comunica mediante mensajes (IPC).</li>
                            <li>En <strong>monolíticos</strong>, los procesos son gestionados internamente por el mismo kernel.</li>
                        </ul>
                    </li>
                    <li><strong>Ejemplos de operaciones:</strong>
                        <ul>
                            <li>Planificación de CPU (algoritmos Round Robin, FIFO).</li>
                            <li>Creación/terminación de procesos (fork, exec).</li>
                            <li>Cambio de contexto (context switching).</li>
                        </ul>
                    </li>
                </ul>

                <h4>2. Gestión de Memoria (Memory Management)</h4>
                <ul>
                    <li><strong>Qué hace:</strong> Asigna memoria a procesos y gestiona el espacio libre.</li>
                    <li><strong>Relación con modelos:</strong>
                        <ul>
                            <li>En <strong>máquinas virtuales</strong>, cada VM recibe un entorno aislado de memoria.</li>
                            <li>En modelos en <strong>capas</strong>, se puede controlar el acceso jerárquico a la memoria.</li>
                        </ul>
                    </li>
                    <li><strong>Ejemplos de operaciones:</strong>
                        <ul>
                            <li>Asignación de memoria dinámica (paginación, segmentación).</li>
                            <li>Protección de espacio de memoria entre procesos.</li>
                            <li>Memoria virtual y swapping.</li>
                        </ul>
                    </li>
                </ul>

                <h4>3. Gestión del Almacenamiento</h4>
                <ul>
                    <li><strong>Qué hace:</strong> distribuye, Organiza, lee y escribe archivos y directorios en dispositivos de almacenamiento.</li>
                    <li><strong>Relación con modelos:</strong>
                        <ul>
                            <li>En <strong>microkernel</strong>, el sistema de archivos puede estar en espacio de usuario.</li>
                            <li>En <strong>cliente-servidor</strong>, puede ser un servicio independiente.</li>
                        </ul>
                    </li>
                    <li><strong>Ejemplos de operaciones:</strong>
                        <ul>
                            <li>Creación, eliminación, lectura y escritura de archivos.</li>
                            <li>Control de permisos y acceso.</li>
                            <li>Montaje de sistemas de archivos.</li>
                        </ul>
                    </li>
                </ul>

                <h4>4. Gestión de Dispositivos (I/O Management)</h4>
                <ul>
                    <li><strong>Qué hace:</strong> Controla dispositivos de entrada/salida y coordina su acceso.</li>
                    <li><strong>Relación con modelos:</strong>
                        <ul>
                            <li>En <strong>microkernel</strong>, los controladores de dispositivos se ejecutan como servicios.</li>
                            <li>En <strong>modelo monolítico</strong>, están directamente integrados en el kernel.</li>
                        </ul>
                    </li>
                    <li><strong>Ejemplos de operaciones:</strong>
                        <ul>
                            <li>Manejo de interrupciones.</li>
                            <li>Comunicación con discos, impresoras, teclados.</li>
                            <li>Buffering, caching y spooling.</li>
                        </ul>
                    </li>
                </ul>

                <h4>5. Gestión de Usuarios y Seguridad</h4>
                <ul>
                    <li><strong>Qué hace:</strong> Controla el acceso al sistema, protege datos y recursos.</li>
                    <li><strong>Relación con modelos:</strong>
                        <ul>
                            <li>En <strong>modelos virtualizados</strong>, cada entorno de usuario puede tener políticas aisladas.</li>
                            <li>En <strong>microkernel</strong>, se facilita un modelo seguro por aislamiento de servicios.</li>
                        </ul>
                    </li>
                    <li><strong>Ejemplos de operaciones:</strong>
                        <ul>
                            <li>Forma de identificarse como son el usuario, contraseñas, tokens.</li>
                            <li>Control y privilegios de usuarios.</li>
                            <li>Auditoría de eventos y cifrado.</li>
                        </ul>
                    </li>
                </ul>

                <h4>6. Interfaz de Usuario (User Interface)</h4>
                <ul>
                    <li><strong>Qué hace:</strong> Proporciona al usuario un entorno para interactuar con el sistema operativo (CLI o GUI).</li>
                    <li><strong>Relación con modelos:</strong>
                        <ul>
                            <li>En <strong>modelo por capas</strong>, la interfaz suele ser una capa superior.</li>
                            <li>En <strong>cliente-servidor</strong>, puede ser un cliente independiente al núcleo del sistema.</li>
                        </ul>
                    </li>
                    <li><strong>Ejemplos:</strong>
                        <ul>
                            <li>Shell de comandos.</li>
                            <li>Entornos gráficos (GNOME, Windows Shell).</li>
                        </ul>
                    </li>
                </ul>

                <h4>Importancia General de estas Operaciones</h4>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Operación</th>
                                <th>¿Por qué es crítica?</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Gestión de procesos</td>
                                <td>Permite ejecutar múltiples programas simultáneamente</td>
                            </tr>
                            <tr>
                                <td>Gestión de memoria</td>
                                <td>Asegura que los procesos tengan espacio eficiente y protegido</td>
                            </tr>
                            <tr>
                                <td>Gestión de archivos</td>
                                <td>Organiza la información de forma persistente</td>
                            </tr>
                            <tr>
                                <td>Gestión de E/S</td>
                                <td>Controla la comunicación con dispositivos físicos</td>
                            </tr>
                            <tr>
                                <td>Seguridad y control de acceso</td>
                                <td>Protege el sistema contra accesos no autorizados</td>
                            </tr>
                            <tr>
                                <td>Interfaz de usuario</td>
                                <td>Permite al usuario interactuar fácilmente con el sistema</td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="table-caption"></div>
                </div>

                <h4>Relación con la funcionalidad del sistema operativo:</h4>
                <p>Todas estas operaciones son <strong>esenciales para garantizar</strong> que el sistema operativo:</p>
                <ul>
                    <li>Opere con eficacia y estabilidad.</li>
                    <li>Base para la aplicación de acciones simultáneas llevando varias tareas.</li>
                    <li>Garantice protección y consistencia a la información.</li>
                    <li>Ofrezca una experiencia satisfactoria al usuario.</li>
                    <li>Sea <strong>escalable y seguro</strong> en diferentes entornos (domésticos, empresariales o virtualizados).</li>
                </ul>
            </div>
        </div>

        <div class="section" id="seccion-2-1-3">
            <div class="section-header">
                <div class="section-number">2.1.3</div>
                <div class="section-title">Estados</div>
            </div>
            <div class="content">
                <h3>Estados de los Procesos</h3>
                <p>Los procesos en un sistema operativo pasan por distintas etapas (o estados) durante su ciclo de vida. Las cuales son:</p>

                <h4>1. Nuevo (New)</h4>
                <ul>
                    <li><strong>Características:</strong>
                        <ul>
                            <li>El proceso se crea.</li>
                            <li>Aún no es gestionado por el planificador.</li>
                        </ul>
                    </li>
                    <li><strong>Ventajas:</strong>
                        <ul>
                            <li>Permite preparar al sistema antes de que el proceso compita por la CPU.</li>
                        </ul>
                    </li>
                    <li><strong>Desventajas:</strong>
                        <ul>
                            <li>No realiza ningún trabajo útil aún (solo reserva recursos).</li>
                        </ul>
                    </li>
                </ul>

                <h4>2. Listo (Ready)</h4>
                <ul>
                    <li><strong>Particularidades:</strong>
                        <ul>
                            <li>El proceso está listo para ejecutarse.</li>
                            <li>Espera la lista del turno para ingresar a la CPU.</li>
                        </ul>
                    </li>
                    <li><strong>Ventajas:</strong>
                        <ul>
                            <li>Optimiza uso del procesador al mantener una cola de procesos disponibles.</li>
                        </ul>
                    </li>
                    <li><strong>Desventajas:</strong>
                        <ul>
                            <li>Puede haber <strong>esperas largas</strong> si hay muchos procesos en la cola.</li>
                        </ul>
                    </li>
                </ul>

                <h4>3. Listo para correr (Running)</h4>
                <ul>
                    <li><strong>Particularidades:</strong>
                        <ul>
                            <li>El proceso está usando activamente la CPU.</li>
                            <li>Solo un proceso puede estar en este estado por CPU en un momento dado.</li>
                        </ul>
                    </li>
                    <li><strong>Ventajas:</strong>
                        <ul>
                            <li>En donde se corren todas las aplicaciones con sus instrucciones del programa.</li>
                        </ul>
                    </li>
                    <li><strong>Desventajas:</strong>
                        <ul>
                            <li>El procedimiento puede ser <strong>interrumpido,</strong> entonces se mostrará una interrupción o cambio de contexto.</li>
                        </ul>
                    </li>
                </ul>

                <h4>4. Bloqueado / Espera (Blocked / Waiting)</h4>
                <ul>
                    <li><strong>Características:</strong>
                        <ul>
                            <li>El proceso se cancela y se detiene hasta que ocurra un evento externo.</li>
                        </ul>
                    </li>
                    <li><strong>Ventajas:</strong>
                        <ul>
                            <li>Evita que procesos inactivos consuman CPU.</li>
                        </ul>
                    </li>
                    <li><strong>Desventajas:</strong>
                        <ul>
                            <li>Puede provocar <strong>baja utilización de recursos</strong> si hay muchas operaciones bloqueadas.</li>
                        </ul>
                    </li>
                </ul>

                <h4>5. Finalizado (Terminated / Exit)</h4>
                <ul>
                    <li><strong>Características:</strong>
                        <ul>
                            <li>El proceso termina la acción a realizar y por ello se da por terminado.</li>
                            <li>Se liberan sus recursos.</li>
                        </ul>
                    </li>
                    <li><strong>Ventajas:</strong>
                        <ul>
                            <li>Despeja la memoria y recursos utilizados en los procesos.</li>
                        </ul>
                    </li>
                    <li><strong>Desventajas:</strong>
                        <ul>
                            <li>Existe la posibilidad de que queden procesos zombis en sistemas Unix/Linux si no son finalizados adecuadamente</li>
                        </ul>
                    </li>
                </ul>

                <h4>Importancia para el sistema operativo</h4>
                <ul>
                    <li><strong>Permiten una administración más clara y productiva de la CPU.</strong></li>
                    <li><strong>Facilitan la planificación, multitarea y concurrencia.</strong></li>
                    <li><strong>Previene que surjan bloqueos y exista consumo de recursos o pérdidas de recursos o sobrecarga.</strong></li>
                    <li>Son esenciales para el funcionamiento adecuado y la <strong>estabilidad del sistema</strong>.</li>
                </ul>
            </div>
        </div>

        <div class="section" id="seccion-2-1-4">
            <div class="section-header">
                <div class="section-number">2.1.4</div>
                <div class="section-title">Implementación</div>
            </div>
            <div class="content">
                <h3>Implementación de Procesos</h3>
                <p>La <strong>implementación de procesos</strong> en un sistema operativo consiste en el uso de mecanismos y estructuras internas que permiten controlar, planificar y ejecutar múltiples procesos de manera eficiente, segura y ordenada. Estas funciones permiten al sistema operativo:</p>
                <ul>
                    <li>Crear nuevos procesos.</li>
                    <li>Controlar y supervisar su ejecución.</li>
                    <li>Supervisa el ingreso de los procesos a los recursos del sistema, para identificar como se utiliza la CPU, memoria y dispositivos de entrada/salida.</li>
                    <li>Finalizar o suspender procesos de forma controlada.</li>
                </ul>

                <div class="quote-box">
                    "Este conjunto de funciones garantiza la estabilidad y el rendimiento del sistema durante la ejecución simultánea de múltiples tareas"
                    <div class="citation">(Silberschatz, Galvin & Gagne, 2018).</div>
                </div>

                <h4>Etapas en la implementación de procesos</h4>

                <h4>1. Creación del proceso</h4>
                <ul>
                    <li>El SO asigna un <strong>identificador único (PID)</strong>.</li>
                    <li>Se reserva memoria y recursos necesarios.</li>
                    <li>Se inicializa una estructura llamada <strong>PCB (Process Control Block)</strong>.</li>
                </ul>
                <p><em>El PCB contiene toda la información del proceso: estado, registros, contador de programa, memoria asignada, archivos abiertos, etc.</em></p>

                <h4>2. Planificación y asignación de CPU</h4>
                <ul>
                    <li>El planificador (scheduler) decide cuál proceso entra en ejecución.</li>
                    <li>Se usa una lista de procesos <strong>listos para que se puedan aplicar (Ready Queue)</strong>.</li>
                    <li>Puede aplicar algoritmos como FIFO, Round Robin, SJF, etc.</li>
                </ul>

                <h4>3. Cambio de contexto (Context Switch)</h4>
                <ul>
                    <li>Cuando la CPU brinca de proceso a otro:
                        <ul>
                            <li>Almacena el estado del proceso actual en su PCB.</li>
                            <li>Restaura el estado del siguiente proceso a llevarse a cabo.</li>
                        </ul>
                    </li>
                    <li>Esta operación debe ser rápida y segura.</li>
                </ul>

                <h4>4. Sincronización y comunicación</h4>
                <ul>
                    <li>El SO gestiona cómo los procesos comparten datos o recursos:
                        <ul>
                            <li>Mediante <strong>semáforos</strong>, <strong>monitores</strong>, <strong>pipes</strong>, <strong>colas de mensajes</strong>, etc.</li>
                        </ul>
                    </li>
                    <li>Evita condiciones de carrera, bloqueos mutuos y errores de concurrencia.</li>
                </ul>

                <h4>5. Finalización del proceso</h4>
                <ul>
                    <li>El proceso termina voluntariamente (exit) o por interrupción.</li>
                    <li>Se liberan sus recursos: memoria, archivos, entrada en la tabla de procesos.</li>
                    <li>Puede dejar un "zombie" si su estado no se limpia correctamente (Unix/Linux).</li>
                </ul>

                <h4>Estructuras clave en la implementación</h4>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th><strong>Estructura</strong></th>
                                <th><strong>Función principal</strong></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>PCB (Process Control Block)</strong></td>
                                <td>Guarda toda la información del proceso.</td>
                            </tr>
                            <tr>
                                <td><strong>Colas de planificación</strong></td>
                                <td>Agrupan procesos según su estado (listo, bloqueado, etc.).</td>
                            </tr>
                            <tr>
                                <td><strong>Tabla de procesos</strong></td>
                                <td>Registro global de todos los procesos activos.</td>
                            </tr>
                            <tr>
                                <td><strong>Contexto del proceso</strong></td>
                                <td>Registros y estado exacto para reanudar ejecución.</td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="table-caption"></div>
                </div>

                <h4>Importancia</h4>
                <ul>
                    <li>Permite la <strong>multiprogramación</strong> y la <strong>multitarea</strong>.</li>
                    <li>Facilita el <strong>control preciso</strong> de recursos.</li>
                    <li>Hace posible la <strong>estabilidad, eficiencia y seguridad</strong> del sistema.</li>
                </ul>
            </div>
        </div>
        
        <div class="activity-card">
            <div class="activity-title">Actividad de Aprendizaje: Modelo de Procesos</div>
            <p>Evalúa tu comprensión sobre los fundamentos, operaciones, estados e implementación de procesos en sistemas operativos.</p>
            <a href="actividad_2_1.html" class="activity-btn">
                <i class="fas fa-pencil-alt"></i> Realizar Actividad
            </a>
        </div>

        <div class="nav-buttons">
            <a href="index.html" class="nav-btn"><i class="fas fa-arrow-left"></i> Volver al Menú de Unidad</a>
            <a href="2.2.html" class="nav-btn">Continuar a 2.2: Modelo multi-hilo<i class="fas fa-arrow-right"></i></a>
        </div>
        
        <footer>
            <p>Sistemas Operativos - Unidad 2: Administración de procesos</p>
            <p>Desarrollado para fines educativos - © 2025</p>
        </footer>
    </div>

    <script>
        let sidebarOpen = false;

        const menuToggle = document.getElementById('menuToggle');
        const sidebarNav = document.getElementById('sidebarNav');
        const sidebarOverlay = document.getElementById('sidebarOverlay');

        function toggleSidebar() {
            sidebarOpen = !sidebarOpen;
            
            if (sidebarOpen) {
                sidebarNav.classList.add('active');
                sidebarOverlay.classList.add('active');
                menuToggle.classList.add('active');
                menuToggle.innerHTML = '<i class="fas fa-times"></i>';
                document.body.style.overflow = 'hidden';
            } else {
                sidebarNav.classList.remove('active');
                sidebarOverlay.classList.remove('active');
                menuToggle.classList.remove('active');
                menuToggle.innerHTML = '<i class="fas fa-bars"></i>';
                document.body.style.overflow = 'auto';
            }
            
            updateContainerSpacing();
        }

        menuToggle.addEventListener('click', toggleSidebar);
        sidebarOverlay.addEventListener('click', toggleSidebar);

        document.querySelectorAll('.nav-item[data-section]').forEach(item => {
            item.addEventListener('click', () => {
                if (window.innerWidth <= 768) {
                    toggleSidebar();
                }
            });
        });

        function updateContainerSpacing() {
            const container = document.querySelector('.container');
            
            if (window.innerWidth <= 768) {
                container.style.marginLeft = '20px';
                container.style.marginRight = '20px';
                container.style.padding = '10px';
            } else if (sidebarOpen && window.innerWidth > 768) {
                container.style.marginLeft = '370px';
                container.style.marginRight = '90px';
                container.style.padding = '20px';
            } else {
                container.style.marginLeft = '90px';
                container.style.marginRight = '90px';
                container.style.padding = '20px';
            }
        }

        function updateActiveSection() {
            const sections = document.querySelectorAll('.section');
            const navItems = document.querySelectorAll('.nav-item[data-section]');
            let currentSectionId = '';

            sections.forEach(section => {
                const rect = section.getBoundingClientRect();
                if (rect.top <= 150 && rect.bottom >= 150) {
                    currentSectionId = section.id;
                }
            });

            navItems.forEach(item => {
                const sectionId = 'seccion-' + item.dataset.section;
                if (sectionId === currentSectionId) {
                    item.classList.add('active');
                } else {
                    item.classList.remove('active');
                }
            });
        }

        function updateReadingProgress() {
            const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrolled = (winScroll / height) * 100;
            document.getElementById('progressBar').style.width = scrolled + '%';
        }

        const scrollToTopBtn = document.getElementById('scrollToTop');

        function toggleScrollToTopBtn() {
            if (window.pageYOffset > 300) {
                scrollToTopBtn.classList.add('visible');
            } else {
                scrollToTopBtn.classList.remove('visible');
            }
        }

        scrollToTopBtn.addEventListener('click', () => {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });

        window.addEventListener('scroll', () => {
            updateActiveSection();
            updateReadingProgress();
            toggleScrollToTopBtn();
        });

        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                
                if (target) {
                    const offsetTop = target.offsetTop - 100;
                    window.scrollTo({
                        top: offsetTop,
                        behavior: 'smooth'
                    });
                }
            });
        });

        window.addEventListener('resize', () => {
            if (window.innerWidth > 768 && sidebarOpen) {
                toggleSidebar();
            }
            updateContainerSpacing();
        });

        document.addEventListener('DOMContentLoaded', function() {
            updateActiveSection();
            updateReadingProgress();
            updateContainerSpacing();
            if (window.innerWidth <= 768) {
                sidebarNav.classList.remove('active');
            }
        });

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && sidebarOpen) {
                toggleSidebar();
            }
            if (e.key === 'm' || e.key === 'M') {
                if (!e.ctrlKey && !e.altKey) { 
                    toggleSidebar();
                }
            }
        });
    </script>
</body>
</html>
