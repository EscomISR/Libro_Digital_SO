<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2.2 Modelo multi-hilo</title>
    <link rel="icon" type="image/png" href="../IMAGENES/logoescom.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --accent: #e74c3c;
            --light: #ecf0f1;
            --dark: #2c3e50;
            --gray: #95a5a6;
            --success: #2ecc71;
            --warning: #f39c12;
            --card-bg: rgba(255, 255, 255, 0.05);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a3a, #2c3e50);
            color: var(--light);
            min-height: 100vh;
            line-height: 1.7;
        }

        .floating-home-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--secondary);
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            box-shadow: 0 4px 20px rgba(52, 152, 219, 0.3);
            transition: all 0.3s ease;
            z-index: 1000;
            font-size: 1.5rem;
        }

        .floating-home-btn:hover {
            background: #2980b9;
            transform: translateY(-3px);
            box-shadow: 0 6px 25px rgba(52, 152, 219, 0.4);
        }

        .sidebar-nav {
            position: fixed;
            left: 0;
            top: 0;
            width: 280px;
            height: 100vh;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            border-right: 1px solid rgba(255, 255, 255, 0.1);
            z-index: 999;
            transition: transform 0.3s ease;
            transform: translateX(-100%);
            overflow-y: auto;
        }

        .sidebar-nav.active {
            transform: translateX(0);
        }

        .sidebar-header {
            padding: 20px;
            background: rgba(52, 152, 219, 0.1);
            border-bottom: 1px solid rgba(52, 152, 219, 0.3);
        }

        .sidebar-title {
            font-size: 1.2rem;
            color: var(--secondary);
            font-weight: 600;
            margin-bottom: 5px;
        }

        .sidebar-subtitle {
            font-size: 0.9rem;
            color: var(--gray);
        }

        .nav-sections {
            padding: 20px 0;
        }

        .nav-section {
            margin-bottom: 15px;
        }

        .nav-section-title {
            padding: 10px 20px;
            font-size: 1rem;
            font-weight: 600;
            color: var(--secondary);
            border-bottom: 1px solid rgba(52, 152, 219, 0.2);
            margin-bottom: 10px;
        }

        .nav-item {
            display: block;
            padding: 12px 20px;
            color: var(--light);
            text-decoration: none;
            transition: all 0.3s ease;
            border-left: 3px solid transparent;
        }

        .nav-item:hover {
            background: rgba(52, 152, 219, 0.1);
            border-left-color: var(--secondary);
            padding-left: 25px;
        }

        .nav-item.active {
            background: rgba(52, 152, 219, 0.2);
            border-left-color: var(--secondary);
            color: var(--secondary);
        }

        .nav-item i {
            margin-right: 10px;
            width: 20px;
            text-align: center;
        }

        .menu-toggle {
            position: fixed;
            top: 20px;
            left: 20px;
            background: var(--primary);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            z-index: 1001;
            font-size: 1.2rem;
        }

        .menu-toggle:hover {
            background: var(--secondary);
            transform: translateY(-2px);
        }

        .menu-toggle.active {
            background: var(--accent);
        }

        .reading-progress {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            z-index: 998;
        }

        .reading-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--secondary), var(--success));
            width: 0%;
            transition: width 0.1s ease;
        }

        .sidebar-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 998;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .sidebar-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            transition: margin-left 0.3s ease, margin-right 0.3s ease;
        }
        
        header {
            text-align: center;
            padding: 40px 20px;
            margin-bottom: 30px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            position: relative;
            overflow: hidden;
        }
        
        .breadcrumb {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
            color: var(--gray);
            font-size: 1.1rem;
        }
        
        .breadcrumb a {
            color: var(--secondary);
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .breadcrumb a:hover {
            color: white;
            text-decoration: underline;
        }
        
        .breadcrumb span {
            margin: 0 10px;
        }
        
        h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            color: white;
        }
        
        .subtitle {
            font-size: 1.8rem;
            color: var(--secondary);
            margin-bottom: 20px;
            font-weight: 300;
            text-align: center;
        }
        
        .intro {
            max-width: 900px;
            margin: 0 auto 40px;
            padding: 25px;
            background: var(--card-bg);
            border-radius: 15px;
            border-left: 4px solid var(--secondary);
            text-align: justify;
        }
        
        .section {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 40px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            scroll-margin-top: 100px;
        }
        
        .section-header {
            display: flex;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--secondary);
        }
        
        .section-number {
            font-size: 2.2rem;
            font-weight: bold;
            color: var(--secondary);
            margin-right: 15px;
            min-width: 120px;
        }
        
        .section-title {
            font-size: 1.8rem;
            font-weight: 600;
            color: white;
        }
        
        .content {
            padding: 0 10px;
        }
        
        .content h3 {
            font-size: 1.5rem;
            color: var(--secondary);
            margin: 30px 0 15px;
            padding-left: 10px;
            border-left: 3px solid var(--accent);
        }

        .content h4 {
            font-size: 1.3rem;
            color: var(--warning);
            margin: 25px 0 12px;
            padding-left: 8px;
        }
        
        .content p {
            margin-bottom: 15px;
            text-align: justify;
        }
        
        .content ul, .content ol {
            padding-left: 30px;
            margin: 20px 0;
        }
        
        .content li {
            margin-bottom: 12px;
        }
        
        .highlight {
            background: rgba(231, 76, 60, 0.15);
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: 500;
        }
        
        .citation {
            font-style: italic;
            color: var(--gray);
            margin: 5px 0 15px 20px;
            border-left: 2px solid var(--secondary);
            padding-left: 10px;
        }
        
        .quote-box {
            background: rgba(52, 152, 219, 0.1);
            border-left: 4px solid var(--secondary);
            padding: 20px;
            margin: 25px 0;
            border-radius: 8px;
            font-style: italic;
            color: var(--light);
        }

        .quote-box .citation {
            border-left: none;
            margin: 10px 0 0 0;
            padding-left: 0;
        }
        
        .table-container {
            max-width: 800px;
            margin: 30px auto;
            overflow-x: auto;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            background: rgba(0, 0, 0, 0.2);
        }
        
        th {
            background: var(--primary);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }
        
        td {
            padding: 12px 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        tr:nth-child(even) {
            background: rgba(255, 255, 255, 0.03);
        }
        
        .table-caption {
            text-align: center;
            padding: 10px;
            font-style: italic;
            color: var(--gray);
            background: rgba(0, 0, 0, 0.3);
            border-bottom-left-radius: 10px;
            border-bottom-right-radius: 10px;
        }

 .figure-container {
            text-align: center;
            margin: 30px 0;
            padding: 20px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
        }
        
        .figure-placeholder {
            width: 100%;
            height: 300px;
            background: linear-gradient(135deg, #2c3e50, #34495e);
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            margin: 15px 0;
            color: var(--gray);
            font-style: italic;
            flex-direction: column;
        }
        
        .figure-placeholder i {
            font-size: 3rem;
            margin-bottom: 15px;
            color: var(--secondary);
        }
        
        .figure-caption {
            font-style: italic;
            color: var(--gray);
            margin-top: 10px;
        }

        .imagen-figura1 {
            max-width: 600px;
            width: 100%;
            height: auto;
        }
        
        
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
        }
        
        .nav-btn {
            display: inline-flex;
            align-items: center;
            background: var(--secondary);
            color: white;
            padding: 12px 25px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .nav-btn:hover {
            background: #2980b9;
            transform: translateY(-3px);
        }
        
        .nav-btn i {
            margin: 0 8px;
        }
        
        footer {
            text-align: center;
            margin-top: 60px;
            padding: 30px;
            color: var(--gray);
            font-size: 0.9rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .scroll-to-top {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--accent);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3);
            transition: all 0.3s ease;
            opacity: 0;
            visibility: hidden;
            z-index: 999;
        }

        .scroll-to-top.visible {
            opacity: 1;
            visibility: visible;
        }

        .scroll-to-top:hover {
            background: #c0392b;
            transform: translateY(-3px);
        }

        .activity-card {
            background: rgba(46, 204, 113, 0.1);
            border-radius: 15px;
            padding: 30px;
            margin: 40px 0;
            border-left: 4px solid var(--success);
            text-align: center;
        }

        .activity-title {
            font-size: 1.8rem;
            color: var(--success);
            margin-bottom: 20px;
        }

        .activity-btn {
            display: inline-block;
            background: var(--success);
            color: white;
            padding: 15px 35px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: 600;
            margin-top: 15px;
            transition: all 0.3s ease;
            font-size: 1.1rem;
        }

        .activity-btn:hover {
            background: #27ae60;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(46, 204, 113, 0.4);
        }
        
        @media (max-width: 768px) {
            .sidebar-nav {
                width: 100%;
            }

            h1 {
                font-size: 2rem;
            }
            
            .subtitle {
                font-size: 1.4rem;
            }
            
            .section-title {
                font-size: 1.5rem;
            }
            
            .section-number {
                min-width: 100px;
                font-size: 1.8rem;
            }
            
            .nav-buttons {
                flex-direction: column;
                gap: 15px;
            }
            
            .nav-btn {
                width: 100%;
                text-align: center;
                justify-content: center;
            }

            .floating-home-btn {
                width: 50px;
                height: 50px;
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <div class="reading-progress">
        <div class="reading-progress-bar" id="progressBar"></div>
    </div>

    <button class="menu-toggle" id="menuToggle">
        <i class="fas fa-bars"></i>
    </button>

    <a href="index.html" class="floating-home-btn" title="Ir al índice de unidades">
        <i class="fas fa-home"></i>
    </a>

    <div class="sidebar-overlay" id="sidebarOverlay"></div>

    <nav class="sidebar-nav" id="sidebarNav">
        <div class="sidebar-header">
            <div class="sidebar-title">2.2 Modelo multihilo</div>
            <div class="sidebar-subtitle">Administración de procesos</div>
        </div>
        
        <div class="nav-sections">
            <div class="nav-section">
                <div class="nav-section-title">Navegación</div>
                <a href="#inicio" class="nav-item">
                    <i class="fas fa-rocket"></i> Inicio del Tema
                </a>
                <a href="index.html" class="nav-item">
                    <i class="fas fa-arrow-left"></i> Menú de Unidad 2
                </a>
            </div>

            <div class="nav-section">
                <div class="nav-section-title">Contenido</div>
                <a href="#seccion-2-2-1" class="nav-item" data-section="2-2-1">
                    <i class="fas fa-book"></i> 2.2.1 Bibliotecas POSIX y Win32
                </a>
                <a href="#seccion-2-2-2" class="nav-item" data-section="2-2-2">
                    <i class="fas fa-cogs"></i> 2.2.2 Implementación de hilos
                </a>
                <a href="#seccion-2-2-3" class="nav-item" data-section="2-2-3">
                    <i class="fas fa-layer-group"></i> 2.2.3 Hilos en modo usuario vs kernel
                </a>
            </div>

            <div class="nav-section">
                <div class="nav-section-title">Recursos</div>
                <a href="actividad_2.2.html" class="nav-item">
                    <i class="fas fa-tasks"></i> Actividad de aprendizaje
                </a>
                <a href="2.3.html" class="nav-item">
                    <i class="fas fa-arrow-right"></i> Siguiente: Comunicación entre procesos (IPC)
                </a>
            </div>
        </div>
    </nav>

    <button class="scroll-to-top" id="scrollToTop">
        <i class="fas fa-chevron-up"></i>
    </button>

    <div class="container">
        <header id="inicio">
            <div class="breadcrumb">
                <a href="https://escomisr.github.io/Libro_Digital_SO/index.html"><i class="fas fa-home"></i> Inicio</a>
                <span>/</span>
                <a href="index.html">Unidad 2</a>
                <span>/</span>
                <span>2.2 Modelo multihilo</span>
            </div>
            <h1>2.2 Modelo multihilo</h1>
            <div class="subtitle">Administración de procesos</div>
        </header>
        
        <div class="intro">
            <p>El <strong>modelo multihilo</strong> constituye una extensión del modelo tradicional de procesos, donde un mismo proceso puede contener <strong>múltiples hilos de ejecución</strong> que comparten los mismos recursos, pero operan de forma concurrente. Cada hilo  representa una secuencia independiente de instrucciones que puede ejecutarse en paralelo, lo que permite <strong>aprovechar mejor los recursos del sistema y mejorar el rendimiento </strong>en tareas que pueden dividirse en subtareas independientes.</p>
            <p>A diferencia de los procesos, los hilos comparten el <strong>espacio de direcciones, los archivos abiertos y las variables globales </strong>de su proceso padre, lo que facilita la comunicación y reduce el consumo de memoria. Sin embargo, esta compartición también introduce riesgos de <strong>condiciones de carrera</strong> y conflictos en el acceso a recursos, por lo que es necesario aplicar <strong>mecanismos de sincronización</strong> como semáforos o mutex.</p>
            <p>Según <strong>Silberschatz, Galvin y Gagne (2022)</strong>, “<i>un hilo es la unidad básica de utilización de la CPU; comparte el estado del proceso al que pertenece, pero mantiene su propio contador de programa, pila y registros</i>” (p. 254). Esto significa que varios hilos dentro del mismo proceso pueden ejecutarse simultáneamente en distintos núcleos del procesador, lo que optimiza el paralelismo y la capacidad de respuesta del sistema operativo.</p>
            <p>Los tres enfoques principales para implementar el multihilo son:</p>
            <p>
            <ol>
                <li><strong>Modelo de Muchos a Uno</strong>: múltiples hilos de usuario se asignan a un solo hilo del kernel. Es eficiente en memoria, pero no permite ejecutar varios hilos simultáneamente en múltiples procesadores.</li>
                <li><strong>Modelo de Uno a Uno</strong>: cada hilo de usuario corresponde directamente a un hilo del kernel. Aumenta el paralelismo, pero requiere más recursos del sistema.</li>
                <li><strong>3.	Modelo de Muchos a Muchos</strong>: varios hilos de usuario se asignan dinámicamente a varios hilos del kernel, combinando flexibilidad y rendimiento.</li>
            </ol>     
            </p>
        </p>
        </div>
        
        <div class="section" id="seccion-2-2-1">
            <div class="section-header">
                <div class="section-number">2.2.1</div>
                <div class="section-title">Bibliotecas POSIX y Win32</div>
            </div>
            <div class="content">
                <p>Los estándares más comunes para la implementación y gestión de multihilo en los sistemas operativos actuales son las bibliotecas de hilos Win32 Threads y POSIX. Aunque son diferentes en su diseño, compatibilidad y campo de aplicación, ambas posibilitan la creación, sincronización y terminación de hilos.</p>
                <p>Para el caso de POSIX, se trata de una interfaz estandarizada que fue establecida por la norma IEEE POSIX 1003.1c, la cual es muy común en sistemas Linux, Unix y macOS. Estas bibliotecas ofrecen funciones para crear hilos, sincronizarlos a través de mutex  y supervisar su terminación. Su diseño busca la eficiencia y la portabilidad, lo que posibilita la creación de aplicaciones concurrentes que pueden ejecutarse en diversas plataformas sin alterar de manera importante el código fuente.</p>
                <p>Como señalan <strong>Silberschatz, Galvin y Gagne (2022)</strong>, “<i>las bibliotecas de hilos como POSIX y Win32 proporcionan las herramientas necesarias para la programación concurrente, facilitando la creación de aplicaciones más reactivas, eficientes y escalables</i>” (p. 261). Estas bibliotecas, en conjunto, permiten que los desarrolladores elijan el modelo más adecuado según los requerimientos del sistema, optimizando el uso de los procesadores y la respuesta ante múltiples tareas simultáneas.</p>
                <div class="figure-container">
                    <img src="Figura6.png" alt="Modelo multihilo " class="imagen-figura1">
                    <div class="figure-caption">Figura 6. Modelo multihilo (<i>Elaboración propia basada en Silberschatz et al., 2022</i>).</div>
                </div>                                
            </div>

            <div style="margin-top: 30px;">
                <h3><i class="fas fa-play-circle" style="margin-right: 10px;"></i> Material Audiovisual</h3>
                <p>A continuación, se explican los modelos de multihilo y su implementación en el sistema operativo:</p>
                
                <div class="figure-container">
                    <iframe width="100%" height="450" src="https://www.youtube.com/embed/S3-ZaInBiMs" title="Modelos multihilos" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen style="border-radius: 5px; max-width: 100%;"></iframe>
                    <div class="figure-caption">Salas, I. [@israelsalas4856]. (2025, 24 de noviembre). <em>Modelo multi-hilo</em> [Video]. YouTube. https://www.youtube.com/watch?v=S3-ZaInBiMs</div>
                </div>
            </div>

        </div>
        
        <div class="section" id="seccion-2-2-2">
            <div class="section-header">
                <div class="section-number">2.2.2</div>
                <div class="section-title">Implementación de hilos</div>
            </div>
            <div class="content">
                <p>La <strong>implementación de hilos</strong> en los sistemas operativos modernos puede realizarse en tres niveles: <strong>usuario</strong>, <strong>kernel</strong> o <strong>mixta</strong>, dependiendo de cómo se gestionen los hilos y su relación con el sistema operativo.</p>
                
                <div class="citation">(Silberschatz, Galvin & Gagne, 2018).</div>

                <h3>1. Hilos a Nivel de Usuario (User-Level Threads - ULTs)</h3>

                <h4>Proceso de Implementación</h4>
                <p>La biblioteca de hilos del usuario maneja la creación, planificación y gestión de los hilos sin la intervención directa del kernel. El kernel solo es consciente de un único proceso y no de los hilos individuales dentro de él.</p>
                <p>En el <strong>nivel de usuario</strong>, la biblioteca de hilos gestiona la creación y planificación sin involucrar directamente al kernel, lo que reduce la sobrecarga, pero limita el paralelismo, ya que un bloqueo en un hilo puede detener a todos los demás. En contraste, en el <strong>nivel de kernel</strong>, cada hilo es reconocido y planificado directamente por el sistema operativo, lo que permite un verdadero paralelismo en sistemas multiprocesador, aunque con mayor costo en memoria y tiempo de conmutación. Los sistemas <strong>mixtos</strong> o <strong>híbridos</strong> combinan ambas ventajas, permitiendo flexibilidad y eficiencia mediante el mapeo dinámico de hilos de usuario sobre hilos del kernel.</p>                                
            </div>
        </div>

        <div class="section" id="seccion-2-2-3">
            <div class="section-header">
                <div class="section-number">2.2.3</div>
                <div class="section-title">Hilos en modo usuario vs kernel</div>
            </div>
            <div class="content">
                <p>La distinción entre hilos de usuario y hilos del núcleo está en quién tiene el control sobre su ejecución y la manera en que se manejan los recursos. En los sistemas actuales, se emplean ambas perspectivas de acuerdo con lo que las aplicaciones requieren en términos de escalabilidad, flexibilidad y rendimiento.</p>
                <h3>Hilos en Modo Usuario</h3>
                <p>Los hilos en modo usuario son gestionados completamente por una biblioteca de hilos en el espacio de usuario, sin intervención directa del kernel.</p>
                <h3>Hilos en modo de usuario</h3>
                <p>Una biblioteca del espacio de usuario se encarga de la gestión de los hilos de usuario, sin que el sistema operativo participe directamente. Esto implica que la creación, planificación y sincronización se llevan a cabo sin pasar al modo kernel, lo cual les permite ser más veloces y eficaces en operaciones sencillas. No obstante, tienen limitaciones: si un hilo se bloquea (por ejemplo, a la espera de una operación de entrada/salida), el proceso entero separa porque el kernel no puede diferenciar los hilos internos.</p>
                <h3>Hilos en modo kernel</h3>
                <p>Por otro lado, los hilos de kernel son generados y gestionados directamente por el sistema operativo; esto posibilita que cada hilo sea planificado de manera independiente. Así, el sistema tiene la capacidad de ejecutar varios hilos simultáneamente en diferentes núcleos de CPU, optimizando así el uso de los sistemas multiprocesador. Sin embargo, la transición al modo kernel supone un cambio de contexto que crea más sobrecarga que los hilos de usuario.</p>
                <div class="citation">(Silberschatz, Galvin, & Gagne, 2018).</div>
                <div class="quote-box">
                    "los hilos del kernel posibilitan un paralelismo real en sistemas multiprocesador, puesto que el sistema operativo reconoce y gestiona cada hilo de manera directa".
                    <div class="citation">(Silberschatz, Galvin, & Gagne, 2022).</div>
                </div>
            </div>
        </div>

        <div class="activity-card">
            <div class="activity-title">Actividad de Aprendizaje 2.2: Modelo de Procesos</div>
            <p>Evalúa tu comprensión sobre el modelo multihilo.</p>
            <a href="actividad_2_2.html" class="activity-btn">
                <i class="fas fa-pencil-alt"></i> Realizar Actividad
            </a>
        </div>
        
        <div class="nav-buttons">
            <a href="2.1.html" class="nav-btn"><i class="fas fa-arrow-left"></i> Anterior: 2.1 Modelo de procesos</a>
            <a href="2.3.html" class="nav-btn">Continuar a 2.3: Comunicación entre procesos (IPC)<i class="fas fa-arrow-right"></i></a>
        </div>
        
        <footer>
            <p>Sistemas Operativos - Unidad 2: Administración de procesos</p>
            <p>Desarrollado para fines educativos - © 2025</p>
        </footer>
    </div>

    <script>
        let sidebarOpen = false;

        const menuToggle = document.getElementById('menuToggle');
        const sidebarNav = document.getElementById('sidebarNav');
        const sidebarOverlay = document.getElementById('sidebarOverlay');

        function toggleSidebar() {
            sidebarOpen = !sidebarOpen;
            
            if (sidebarOpen) {
                sidebarNav.classList.add('active');
                sidebarOverlay.classList.add('active');
                menuToggle.classList.add('active');
                menuToggle.innerHTML = '<i class="fas fa-times"></i>';
                document.body.style.overflow = 'hidden';
            } else {
                sidebarNav.classList.remove('active');
                sidebarOverlay.classList.remove('active');
                menuToggle.classList.remove('active');
                menuToggle.innerHTML = '<i class="fas fa-bars"></i>';
                document.body.style.overflow = 'auto';
            }
            
            updateContainerSpacing();
        }

        menuToggle.addEventListener('click', toggleSidebar);
        sidebarOverlay.addEventListener('click', toggleSidebar);

        document.querySelectorAll('.nav-item[data-section]').forEach(item => {
            item.addEventListener('click', () => {
                if (window.innerWidth <= 768) {
                    toggleSidebar();
                }
            });
        });

        function updateContainerSpacing() {
            const container = document.querySelector('.container');
            
            if (window.innerWidth <= 768) {
                container.style.marginLeft = '20px';
                container.style.marginRight = '20px';
                container.style.padding = '10px';
            } else if (sidebarOpen && window.innerWidth > 768) {
                container.style.marginLeft = '370px';
                container.style.marginRight = '90px';
                container.style.padding = '20px';
            } else {
                container.style.marginLeft = '90px';
                container.style.marginRight = '90px';
                container.style.padding = '20px';
            }
        }

        function updateActiveSection() {
            const sections = document.querySelectorAll('.section');
            const navItems = document.querySelectorAll('.nav-item[data-section]');
            let currentSectionId = '';

            sections.forEach(section => {
                const rect = section.getBoundingClientRect();
                if (rect.top <= 150 && rect.bottom >= 150) {
                    currentSectionId = section.id;
                }
            });

            navItems.forEach(item => {
                const sectionId = 'seccion-' + item.dataset.section;
                if (sectionId === currentSectionId) {
                    item.classList.add('active');
                } else {
                    item.classList.remove('active');
                }
            });
        }

        function updateReadingProgress() {
            const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrolled = (winScroll / height) * 100;
            document.getElementById('progressBar').style.width = scrolled + '%';
        }

        const scrollToTopBtn = document.getElementById('scrollToTop');

        function toggleScrollToTopBtn() {
            if (window.pageYOffset > 300) {
                scrollToTopBtn.classList.add('visible');
            } else {
                scrollToTopBtn.classList.remove('visible');
            }
        }

        scrollToTopBtn.addEventListener('click', () => {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });

        window.addEventListener('scroll', () => {
            updateActiveSection();
            updateReadingProgress();
            toggleScrollToTopBtn();
        });

        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                
                if (target) {
                    const offsetTop = target.offsetTop - 100;
                    window.scrollTo({
                        top: offsetTop,
                        behavior: 'smooth'
                    });
                }
            });
        });

        window.addEventListener('resize', () => {
            if (window.innerWidth > 768 && sidebarOpen) {
                toggleSidebar();
            }
            updateContainerSpacing();
        });

        document.addEventListener('DOMContentLoaded', function() {
            updateActiveSection();
            updateReadingProgress();
            updateContainerSpacing();
            if (window.innerWidth <= 768) {
                sidebarNav.classList.remove('active');
            }
        });

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && sidebarOpen) {
                toggleSidebar();
            }
            if (e.key === 'm' || e.key === 'M') {
                if (!e.ctrlKey && !e.altKey) { 
                    toggleSidebar();
                }
            }
        });
    </script>
</body>
</html>
